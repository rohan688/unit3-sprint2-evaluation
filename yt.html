<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=\, initial-scale=1.0">
    <title>YT APP</title>
</head>
<body>
    <input type="text" id="video">
    <button onclick="searchVideo()">Search</button>
    <div id="search_results">
        <!-- <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/KXFmaE5B9E8"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
      ></iframe> -->

    </div>
</body>
</html>
<script>

    const API="AIzaSyAF57KjJ6Mqp-c8dUgqeXUUJ4PXyFAKUuU"
    const result_div=document.getElementById('search_results');
    async function searchVideo(){
    try{
         let video_quary=document.getElementById('video');
         let res= await fetch(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&q=${video_quary}&type=video&key=${API}&maxResults=20`)
         let data= await res.json();
         
         let videos=data.items;
        appendVideos(videos);
    }
    catch(e){
        console.log("err:",e);
    }
    }
    // function appendVideos()
    // arrow funcction
    const appendVideos= (items) =>{
    items.forEach((el) => {
      let{
          id:{videoId},
      }=el;
      console.log("videoId:",videoId);
      let iframe =document.createElement("iframe");
      iframe.src=`https://www.youtube.com/embed/${videoId}`;
      iframe.height="215";
      iframe.width="460";
      result_div.append(iframe);
    });
    };
</script>